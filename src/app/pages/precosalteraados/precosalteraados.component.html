<div class="header bg-warning pb-8 pt-5 pt-md-8">
    <div class="container-fluid">
        <div class="header-body">
            <h1 class="text-center font-italic" style=" color: whitesmoke; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 700; font-size: 4vh;  ">  {{filial}} </h1>

            <p-toast position="bottom-center"></p-toast>

        </div>
    </div>
    <div class="separator separator-bottom separator-skew zindex-100">
      <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <polygon class="fill-default" points="2560 0 2560 100 0 100"></polygon>
      </svg>
    </div>
  </div>
 
  <div class="container-fluid mt--7">
    <div class="row justify-content-center">
      <div class="col-lg-9 col-md-7">
        <div class="card bg-secondary shadow border-0">
           
          

    <!-- Table -->
    <div class="row">
        <div class="col">
            <div class="card shadow">
                
              
               

                <div class="card-header border-0">
                    <h3 class="mb-0">Remarcação de preços alterados </h3>
              
                   
                
                <div class="card-header border-0">
                    <p-calendar [required] inputmode="date" [monthNavigator]="true" [yearNavigator]="true" yearRange="2021:2030" [locale]="pt" showButtonBar="true" [touchUI]="false" showTime="true" hourFormat="24"  dateFormat="dd/mm/yy"  placeholder="Data/Hora Inicial"  [(ngModel)]="dataInicial"> </p-calendar>
                </div>
                
              
                <div class="card-header border-0"> 
                    <p-calendar [required] inputmode="date" [monthNavigator]="true" yearRange="2021:2030" [locale]="pt" showButtonBar="true" [touchUI]="false" showTime="true" hourFormat="24" dateFormat="dd/mm/yy" placeholder="Data/Hora Final"  [(ngModel)]="dataFinal"> </p-calendar>
                </div>
    
               

                
    
                </div>
                <p-toolbar>

                  <div class="p-toolbar-group-left">
                    
                      <button class="p-button-rounded p-button-info" pTooltip="Gerar relátorio de remarcações" [disabled]="loading" pButton label="Gerar" icon="fa fa-calendar" (click)="buscarRemarcacoes(dataInicial,dataFinal)"></button>
                
                  </div>

                <div  class="p-toolbar-group-right">
                  <button  [disabled]="loading" type="button" style="margin-left: 5px;" label="Imprimir" pButton pRipple icon="pi pi-file-pdf" (click)="generatePdf()" class="p-button-rounded p-button-info" pTooltip="Imprimir remarcações no formato PDF" tooltipPosition="bottom"></button>
                    </div>
                </p-toolbar>

                <p-progressBar *ngIf="loading" mode="indeterminate"></p-progressBar>
  
                <div class="table-responsive">
                  <table class="table align-items-center table-flush">
  
                    <p-table #dt selectionMode="single" styleClass="p-datatable-striped" [loading]="loading" [value]="produtos" [responsive]="true"
                    [paginator]="true" [rows]="15" [showCurrentPageReport]="true" dataKey="id" 
                    currentPageReportTemplate="Exibindo de {first} até {last} de {totalRecords} produtos" [rowsPerPageOptions]="[10,25,50,100]"
                    [filterDelay]="0" [globalFilterFields]="['produto.nome', 'produto.codigo' , 'produto.ean']">
                    >

                    <ng-template pTemplate="caption">
                      <div class="table-header">
                         
                          <span class="p-input-icon-left">
                              <i class="pi pi-search"></i>
                              <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Pesquisar" />
                          </span>
                      </div>
                  </ng-template>

                      <ng-template pTemplate="header">
                        
                          <tr>
                              <th>Código</th>
                               <th colspan="3">Nome</th>
                               <th colspan="2">EAN</th>
                              <th>Preço anterior</th>
                              <th>Preço novo</th>
                              <th>Alteração</th>
                              <th></th>
                    
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-produto let-columns="columns">
                          <tr>
                            <td>
                              <span class="p-column-title">Código </span>
                              {{produto.produto.codigo}}
                          
                            </td>
                          
                            <td colspan="3">
                              <span class="p-column-title"> Produto  </span>
                              {{produto.produto.nome}}
                           
                            </td>
                            <td colspan="2">
                              <span class="p-column-title"> EAN </span>
                              {{produto.produto.ean}}
                            
                            </td>
                            <td>
                              <span class="p-column-title"> Preço Anterior  </span>
                              {{produto.precovenda  | currency:'BRL':true:'1.2-2' : 'pt'}}
                               
                            </td>
                            <td>
                              <span class="p-column-title"> Preço Novo  </span>
                              {{produto.precovendaajustado  | currency:'BRL':true:'1.2-2' : 'pt'}}
                           
                            </td>
                            <td colspan="2">
                              <span class="p-column-title"> Alteração  </span>
                              {{produto.dataHora  | date:'dd/MM/yyyy HH:mm:ss' }}
                           
                            </td>
                  
                          </tr>
                          
                      </ng-template>
                  </p-table>
  
                    
                  
  </table>
  </div>
  
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>
  
  